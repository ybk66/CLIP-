# ç¯å¢ƒé…ç½®--é—®é¢˜è§£å†³1.18

## condaé•œåƒæº

```shell
#è¿˜åŸåŸå§‹é€šé“ï¼š
conda config --remove-key channels

#æ¸…åæº
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
#ä¸­ç§‘å¤§æº
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/pytorch/
#æ˜¾ç¤ºé€šé“åœ°å€ï¼š
conda config --set show_channel_urls yes
```

condaæ€»TMä¸è¡Œï¼Œè€TMä¸è¡Œï¼Œåªæ¨ç”¨ä¸äº†å¤–ç½‘aaaaaa

ğŸ˜è¶…å“¥å€Ÿæˆ‘çš„lanyunæœåŠ¡å™¨ï¼Œé…30G/50G/200Gç©ºé—´ï¼Œ3090GPUï¼Œæ„Ÿè°¢è¶…å“¥

---

### âŒtorch1.11+cuda11.3

æŒ‰OVSegé¡¹ç›®éœ€æ±‚ï¼Œå®‰è£…åˆ°æœ€åä¸€æ­¥ï¼ŒæŠ¥é”™ï¼š

```
Segmentation fault (core dumped)
```

å‘ç°é—®é¢˜ï¼šdetectron2æœ€é«˜æ”¯æŒtorch1.10ï¼Œè€Œä¸æ”¯æŒtorch1.11åŠä»¥ä¸Šï¼

---

### âœ…torch1.10+cuda11.3

ä¸å€ŸåŠ©ä»»ä½•è™šæ‹Ÿç¯å¢ƒï¼ˆpythonã€condaã€dockerï¼‰ï¼Œ**ç›´æ¥pip**

æ­¤æ—¶ç›¸å½“äºæŠŠå¤§é‡çš„ä¾èµ–åŒ…å®‰è£…åˆ°äº†åŸç”Ÿçš„pythonç¯å¢ƒä¸­ã€‚è®¸å¤šåŒ…ä¹‹é—´ä¸èƒ½å½¢æˆå‡†ç¡®çš„ä¾èµ–ä¸è¯´ï¼Œç”šè‡³ä¼š**å ç”¨**30Gç³»ç»Ÿç›˜çš„ç©ºé—´ï¼Œå¯èƒ½**å½±å“åˆ°åŸç”Ÿç³»ç»Ÿ**çš„å„ç§ç¯å¢ƒï¼Œæ˜¯ä¸€ä¸ªä¸å¤ªå¥½çš„äº‹ã€‚

ä¸€èˆ¬åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œéƒ½ä¼šæœ‰è‡ªå·±çš„GPUï¼Œä»¥åŠå¯é€‰ç”¨çš„torchã€cudaç­‰åŸºç¡€ç¯å¢ƒã€‚å› æ­¤æˆ‘ä»¬åªé€‰æ‹©ã€è€Œä¸æ”¹åŠ¨è¿™äº›ç¯å¢ƒã€‚

```shell
#åˆ›å»ºpythonè™šæ‹Ÿç¯å¢ƒ
python3 -m venv --system-site-packages pytest1
#æ¿€æ´»
source pytest1/bin/activate
#é€€å‡º
deactivate
#æ­¤æ—¶åˆ›å»ºçš„ç¯å¢ƒï¼Œå°±åœ¨å½“å‰çš„ç›®å½•ä¸‹ï¼Œä¸€ä¸ªpytest1æ–‡ä»¶å¤¹ã€‚
#åˆ é™¤pythonè™šæ‹Ÿç¯å¢ƒ
rm -rf pytest1
```

æ¿€æ´»åï¼Œå†pipå°±èƒ½å¤Ÿå®‰è£…åˆ°å½“å‰çš„ç›®å½•ä¸‹çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæ—¢ä¸ä¼šå ç”¨å…¶ä»–ç›˜çš„ç©ºé—´ï¼Œåˆèƒ½æ¯”è¾ƒæ–¹ä¾¿çš„ç®¡ç†åŒ…